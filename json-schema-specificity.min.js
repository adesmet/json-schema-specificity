!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.jsonSchemaSpecificity=t():e.jsonSchemaSpecificity=t()}(this,(()=>(()=>{"use strict";var e={};return(()=>{var t=e;function r(e,t){var i,l;if(!e||!t)return!1;if(e.type&&t.type&&!function(e,t){const r=Array.isArray(e)?e:[e];return(Array.isArray(t)?t:[t]).every((e=>r.some((t=>t===e||"number"===t&&"integer"===e))))}(e.type,t.type))return!1;if(void 0!==e.const&&(void 0===t.const||t.const!==e.const))return!1;if(e.required&&t.required)for(const u of e.required){const o=null===(i=e.properties)||void 0===i?void 0:i[u];if(!o)continue;let l=!1;for(const[e,i]of Object.entries(t.properties||{}))if((e===u||t.required.includes(e))&&n(o,i)){if(l=!0,!r(o,i))return!1;break}if(!l)return!1}if(e.properties)for(const[i,u]of Object.entries(e.properties)){let o=!1;for(const[,e]of Object.entries(t.properties||{}))if(n(u,e)){if(!r(u,e))return!1;o=!0;break}if(!o&&(null===(l=e.required)||void 0===l?void 0:l.includes(i)))return!1}if(!1===e.additionalProperties&&!1!==t.additionalProperties)return!1;if(e.enum&&t.enum){if(!t.enum.every((t=>e.enum.includes(t))))return!1;if(0===t.enum.length)return!1}return!(!("number"!==e.type&&"integer"!==e.type||function(e,t){const r=u(e),i=o(e),n=u(t),l=o(t);return!(null!==r&&null!==i&&r>i)&&(!(null!==n&&null!==l&&n>l)&&(!(null!==r&&null!==n&&n<r)&&(!(null!==i&&null!==l&&l>i)&&(!(null!==i&&null!==n&&n>i)&&(!(null!==r&&null!==l&&l<r)&&(void 0===e.multipleOf||void 0===t.multipleOf||t.multipleOf%e.multipleOf==0))))))}(e,t))||"array"===e.type&&!function(e,t){var i,n,u,o;const l=null!==(i=e.minItems)&&void 0!==i?i:0,s=null!==(n=e.maxItems)&&void 0!==n?n:1/0,f=null!==(u=t.minItems)&&void 0!==u?u:0,c=null!==(o=t.maxItems)&&void 0!==o?o:1/0;return!(l>s||f>c)&&(!(f<l||c>s)&&(!(f>s||l>c)&&(!(e.uniqueItems&&!t.uniqueItems)&&!(e.items&&t.items&&!r(e.items,t.items)))))}(e,t)||"string"===e.type&&!function(e,t){var r,i,n,u;const o=null!==(r=e.minLength)&&void 0!==r?r:0,l=null!==(i=e.maxLength)&&void 0!==i?i:1/0,s=null!==(n=t.minLength)&&void 0!==n?n:0,f=null!==(u=t.maxLength)&&void 0!==u?u:1/0;return!(o>l||s>f)&&(!(s<o||f>l)&&(!(s>l||o>f)&&(!e.pattern||!t.pattern||e.pattern===t.pattern)))}(e,t))}function i(e,t){if("object"!=typeof t||null===t||Array.isArray(t))return void 0===t?e:t;if("object"!=typeof e||null===e||Array.isArray(e))return t;const r={...e};for(const n of Object.keys(t))r[n]=i(e[n],t[n]);return r}function n(e,t){if(!e||!t)return!1;if(e.type!==t.type&&("number"!==e.type||"integer"!==t.type))return!1;if("object"===e.type&&"object"===t.type){if(!e.properties||!t.properties)return!1;const r=new Set(e.required||[]),i=new Set(t.required||[]);for(const[u,o]of Object.entries(e.properties))if(r.has(u)){let e=!1;for(const[r,u]of Object.entries(t.properties))if(i.has(r)&&n(o,u)){e=!0;break}if(!e)return!1}}return"array"!==e.type||"array"!==t.type||!(!e.items||!t.items)&&n(e.items,t.items)}function u(e){return void 0!==e.minimum?e.minimum:void 0!==e.exclusiveMinimum?e.exclusiveMinimum+1:null}function o(e){return void 0!==e.maximum?e.maximum:void 0!==e.exclusiveMaximum?e.exclusiveMaximum-1:null}Object.defineProperty(t,"__esModule",{value:!0}),t.isMoreSpecific=r,t.extendSchema=i,t.default={isMoreSpecific:r,extendSchema:i}})(),e})()));